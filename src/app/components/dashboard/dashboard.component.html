<app-header></app-header>

<div class="tasks-container">
    <div class="my-tasks">
        <h3 style="margin-bottom: .8rem; font-weight: 500;">My Tasks</h3>
        <div class="tasks">
            <ul *ngFor="let taskItem of taskarray">
                <li class="single-task">
                    <div class="task-infos">
                        <p id="task">{{ taskItem.task }}</p>
                        <p id="desc">{{taskItem.desc}}</p>
                    </div>
                    <div class="task-options">
                        <span class="material-symbols-rounded" (click)="showTaskOptions(taskItem)">more_horiz</span>
                        <div class="options-actions" *ngIf="selectedTask === taskItem">
                            <ul>
                                <li>edit task</li>
                                <li>delete task</li>
                                <li>mark as done</li>
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <div class="done-tasks">
        <h3 style="margin-bottom: .8rem; font-weight: 500;">Completed Tasks</h3>
        <div class="tasks">
            <ul>
                <li class="single-task">
                    <div class="task-infos">
                        <p id="task">Finish tasks management app</p>
                        <p id="desc">complete the code for the task management app</p>
                    </div>
                    <div class="task-options">
                        <span class="material-symbols-rounded">more_horiz</span>
                        <div class="options-actions" >
                            <ul>
                                <li>delete task</li>
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="modal-bg" #modal *ngIf="showModal">
    <div class="modal-form">
        <div class="modal-form-header">
            <h3>Create new Task <span class="material-symbols-rounded">edit</span></h3>
            <span class="material-symbols-rounded" (click)="closeModal()">close</span>
        </div>
        <form [formGroup]="taskForm">
            <div class="input-div">
                <label>Task</label>
                <input type="text" formControlName="name">
            </div>

            <div class="input-div">
                <label>Description</label>
                <input type="text" formControlName="description">
            </div>

            <button class="submit-form" (click)="addTask()">Create Task</button>
        </form>
    </div>
</div>